<div class="page">
  <!-- Sidebar -->
  <aside class="sidebar">
    <h2>Planetary Map</h2>

    <div class="planet-buttons">
      <button (click)="setPlanet('earth')" [class.active]="currentPlanet === 'earth'">Earth</button>
      <button (click)="setPlanet('mars')" [class.active]="currentPlanet === 'mars'">Mars</button>
      <button (click)="setPlanet('moon')" [class.active]="currentPlanet === 'moon'">Moon</button>
    </div>

    <div class="overlay-panel">
      <div class="layer-actions">
        <button class="add-layer-btn">
          <span class="plus-icon">+</span> Add Data
        </button>
      </div>

      <div *ngFor="let layer of layers" class="overlay-item">
        <span class="drag-handle">â ¿</span>
        <input type="checkbox" [(ngModel)]="layer.visible" (change)="toggleLayer(layer)">
        <div class="layer-info">
          <strong>{{ layer.name }}</strong>
          <span class="hint">{{ layer.description }}</span>
        </div>
      </div>
    </div>

    <!-- Zoom Display at bottom of Sidebar -->
    <div style="margin-top: auto; padding-top: 1rem; font-size: 0.8rem; color: #666;">
      <div style="margin-top: auto; padding-top: 1rem; font-size: 0.8rem; color: #666;">
        Zoom Level: {{ zoomDisplay }}
      </div>
    </div>
  </aside>

  <!-- Map Area -->
  <main style="flex: 1; position: relative;">
    <div #mapContainer id="mapContainer"></div>

    <!-- Loading Spinner (Centered on Map) -->
    <div *ngIf="isLoading" class="loading-overlay">
      <div class="spinner"></div>
    </div>
  </main>
</div>